#=======================================================
#
# MODULATOR INTERFACE BLOCK (WRITE)
#
#=======================================================
# MOD Status Register (BEGIN)
#-------------------------------------------------------
# There are no bits to clear in this register
#-------------------------------------------------------
# MOD Status Register (END)
#-------------------------------------------------------
# MOD Control Set Register (BEGIN)
#-------------------------------------------------------
# MOD_ENABLE: Set Control Power On (Bit 0)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_CPWR_SET
operation	record
DESC	Control Power On
FLNK	KLYS:$(AREA):$(LOCATION):MOD_CPWR_SET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_CPWR_SET_MASK
DESC	Control Power On
INPA	KLYS:$(AREA):$(LOCATION):MOD_CPWR_SET
CALC	A
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_CPWR_SET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_CPWR_SET
operation	write
task	0x0A
address	1
size	1
DESC	MOD Control (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_CPWR_SET
DOL	KLYS:$(AREA):$(LOCATION):MOD_CPWR_SET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_HVON_SET: High Voltage On (Bit 1)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_HVON_SET
operation	record
DESC	High Voltage On bit
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVON_SET_MASK
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_HVON_SET_MASK
DESC	High Voltage On bit
INPA	KLYS:$(AREA):$(LOCATION):MOD_HVON_SET
CALC	A << 1
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_HVON_SET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_HVON_SET
operation	write
task	0x0A
address	1
size	1
DESC	MOD Control (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_HVON_SET
DOL	KLYS:$(AREA):$(LOCATION):MOD_HVON_SET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_HVOFF_SET: High Voltage Off (Bit 2)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_HVOFF_SET
operation	record
DESC	High Voltage Off bit
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVOFF_SET_MASK
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_HVOFF_SET_MASK
DESC	High Voltage Off bit
INPA	KLYS:$(AREA):$(LOCATION):MOD_HVOFF_SET
CALC	A << 2
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_HVOFF_SET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_HVOFF_SET
operation	write
task	0x0A
address	1
size	1
DESC	MOD Control (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_HVOFF_SET
DOL	KLYS:$(AREA):$(LOCATION):MOD_HVOFF_SET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_FLTRST_SET: Fault Reset (Bit 3)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_FLTRST_SET
operation	record
DESC	Fault Reset bit
FLNK	KLYS:$(AREA):$(LOCATION):MOD_FLTRST_SET_MASK
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_FLTRST_SET_MASK
DESC	Fault Reset bit
INPA	KLYS:$(AREA):$(LOCATION):MOD_FLTRST_SET
CALC	A << 3
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_FLTRST_SET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_FLTRST_SET
operation	write
task	0x0A
address	1
size	1
DESC	MOD Control (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_FLTRST_SET
DOL	KLYS:$(AREA):$(LOCATION):MOD_FLTRST_SET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD Control Set Register (END)
#-------------------------------------------------------
# MOD Control Reset Register (BEGIN)
#-------------------------------------------------------
# MOD_ENABLE: Reset Control Power On (Bit 0)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_CPWR_RESET
operation	record
DESC	Control Power On
FLNK	KLYS:$(AREA):$(LOCATION):MOD_CPWR_RESET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_CPWR_RESET_MASK
DESC	Control Power On
INPA	KLYS:$(AREA):$(LOCATION):MOD_CPWR_RESET
CALC	A
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_CPWR_RESET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_CPWR_RESET
operation	write
task	0x0A
address	2
size	1
DESC	MOD Control (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_CPWR_RESET
DOL	KLYS:$(AREA):$(LOCATION):MOD_CPWR_RESET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_HVON_RESET: High Voltage On (Bit 1)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_HVON_RESET
operation	record
DESC	High Voltage On bit
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVON_RESET_MASK
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_HVON_RESET_MASK
DESC	High Voltage On bit
INPA	KLYS:$(AREA):$(LOCATION):MOD_HVON_RESET
CALC	A << 1
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_HVON_RESET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_HVON_RESET
operation	write
task	0x0A
address	2
size	1
DESC	MOD Control (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_HVON_RESET
DOL	KLYS:$(AREA):$(LOCATION):MOD_HVON_RESET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_HVOFF_RESET: High Voltage Off (Bit 2)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_HVOFF_RESET
operation	record
DESC	High Voltage Off bit
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVOFF_RESET_MASK
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_HVOFF_RESET_MASK
DESC	High Voltage Off bit
INPA	KLYS:$(AREA):$(LOCATION):MOD_HVOFF_RESET
CALC	A << 2
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_HVOFF_RESET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_HVOFF_RESET
operation	write
task	0x0A
address	2
size	1
DESC	MOD Control (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_HVOFF_RESET
DOL	KLYS:$(AREA):$(LOCATION):MOD_HVOFF_RESET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_FLTRST_RESET: Fault Reset (Bit 3)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_FLTRST_RESET
operation	record
DESC	Fault Reset bit
FLNK	KLYS:$(AREA):$(LOCATION):MOD_FLTRST_RESET_MASK
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_FLTRST_RESET_MASK
DESC	Fault Reset bit
INPA	KLYS:$(AREA):$(LOCATION):MOD_FLTRST_RESET
CALC	A << 3
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_FLTRST_RESET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_FLTRST_RESET
operation	write
task	0x0A
address	2
size	1
DESC	MOD Control (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_FLTRST_RESET
DOL	KLYS:$(AREA):$(LOCATION):MOD_FLTRST_RESET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD Control Reset Register (END)
#-------------------------------------------------------
# MOD Test Reset Register (BEGIN)
#-------------------------------------------------------
# MOD_HVON_TST_SET: Test High Volt On (Bit 0)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_HVON_TST_SET
operation	record
DESC	Test High Volt On
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVON_TST_SET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_HVON_TST_SET_MASK
DESC	Test High Volt On
INPA	KLYS:$(AREA):$(LOCATION):MOD_HVON_TST_SET
CALC	A
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_HVON_TST_SET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_HVON_TST_SET
operation	write
task	0x0A
address	3
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_HVON_TST_SET
DOL	KLYS:$(AREA):$(LOCATION):MOD_HVON_TST_SET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_FLK_TST_SET: Test Fault set (Bit 1)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_FLK_TST_SET
operation	record
DESC	Test Fault
FLNK	KLYS:$(AREA):$(LOCATION):MOD_FLK_TST_SET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_FLK_TST_SET_MASK
DESC	Test Fault
INPA	KLYS:$(AREA):$(LOCATION):MOD_FLK_TST_SET
CALC	A << 1
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_FLK_TST_SET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_FLK_TST_SET
operation	write
task	0x0A
address	3
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_FLK_TST_SET
DOL	KLYS:$(AREA):$(LOCATION):MOD_FLK_TST_SET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_EILK_TST_SET: External Interlock Test Set (Bit 2)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_EILK_TST_SET
operation	record
DESC	External Interlock Test
FLNK	KLYS:$(AREA):$(LOCATION):MOD_EILK_TST_SET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_EILK_TST_SET_MASK
DESC	External Interlock Test
INPA	KLYS:$(AREA):$(LOCATION):MOD_EILK_TST_SET
CALC	A << 2
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_EILK_TST_SET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_EILK_TST_SET
operation	write
task	0x0A
address	3
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_EILK_TST_SET
DOL	KLYS:$(AREA):$(LOCATION):MOD_EILK_TST_SET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_HVOC_TST_SET: High Voltage Over Current (Bit 3)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_HVOC_TST_SET
operation	record
DESC	High Volt Over Cur
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVOC_TST_SET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_HVOC_TST_SET_MASK
DESC	High Volt Over Cur
INPA	KLYS:$(AREA):$(LOCATION):MOD_HVOC_TST_SET
CALC	A << 3
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_HVOC_TST_SET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_HVOC_TST_SET
operation	write
task	0x0A
address	3
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_HVOC_TST_SET
DOL	KLYS:$(AREA):$(LOCATION):MOD_HVOC_TST_SET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_EOLC_TST_SET: End of Line Clipper (Bit 4)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_EOLC_TST_SET
operation	record
DESC	End of Line Clipper
FLNK	KLYS:$(AREA):$(LOCATION):MOD_EOLC_TST_SET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_EOLC_TST_SET_MASK
DESC	End of Line Clipper
INPA	KLYS:$(AREA):$(LOCATION):MOD_EOLC_TST_SET
CALC	A << 4
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_EOLC_TST_SET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_EOLC_TST_SET
operation	write
task	0x0A
address	3
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_EOLC_TST_SET
DOL	KLYS:$(AREA):$(LOCATION):MOD_EOLC_TST_SET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_TTOC_TST_SET: Thyratron Over Current (Bit 5)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_TTOC_TST_SET
operation	record
DESC	Thyratron Over Current
FLNK	KLYS:$(AREA):$(LOCATION):MOD_TTOC_TST_SET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_TTOC_TST_SET_MASK
DESC	Thyratron Over Current
INPA	KLYS:$(AREA):$(LOCATION):MOD_TTOC_TST_SET
CALC	A << 5
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_TTOC_TST_SET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_TTOC_TST_SET
operation	write
task	0x0A
address	3
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_TTOC_TST_SET
DOL	KLYS:$(AREA):$(LOCATION):MOD_TTOC_TST_SET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_HVRDY_TST_SET: High Voltage Ready (Bit 6)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_HVRDY_TST_SET
operation	record
DESC	High Voltage Ready
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVRDY_TST_SET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_HVRDY_TST_SET_MASK
DESC	High Voltage Ready
INPA	KLYS:$(AREA):$(LOCATION):MOD_HVRDY_TST_SET
CALC	A << 6
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_HVRDY_TST_SET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_HVRDY_TST_SET
operation	write
task	0x0A
address	3
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_HVRDY_TST_SET
DOL	KLYS:$(AREA):$(LOCATION):MOD_HVRDY_TST_SET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_AVAIL_TST_SET: Modulator Available (Bit 7)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_AVAIL_TST_SET
operation	record
DESC	Modulator Available
FLNK	KLYS:$(AREA):$(LOCATION):MOD_AVAIL_TST_SET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_AVAIL_TST_SET_MASK
DESC	Modulator Available
INPA	KLYS:$(AREA):$(LOCATION):MOD_AVAIL_TST_SET
CALC	A << 7
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_AVAIL_TST_SET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_AVAIL_TST_SET
operation	write
task	0x0A
address	3
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_AVAIL_TST_SET
DOL	KLYS:$(AREA):$(LOCATION):MOD_AVAIL_TST_SET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_ILKC_TST_SET: Interlock Complete (Bit 8)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_ILKC_TST_SET
operation	record
DESC	Interlock Complete
FLNK	KLYS:$(AREA):$(LOCATION):MOD_ILKC_TST_SET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_ILKC_TST_SET_MASK
DESC	Interlock Complete
INPA	KLYS:$(AREA):$(LOCATION):MOD_ILKC_TST_SET
CALC	A << 8
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_ILKC_TST_SET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_ILKC_TST_SET
operation	write
task	0x0A
address	3
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_ILKC_TST_SET
DOL	KLYS:$(AREA):$(LOCATION):MOD_ILKC_TST_SET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_CTRL_PFLT_TST_SET: Control Power Fault (Bit 9)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_CTRL_PFLT_TST_SET
operation	record
DESC	Control Power Fault
FLNK	KLYS:$(AREA):$(LOCATION):MOD_CTRL_PFLT_TST_SET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_CTRL_PFLT_TST_SET_MASK
DESC	Control Power Fault
INPA	KLYS:$(AREA):$(LOCATION):MOD_CTRL_PFLT_TST_SET
CALC	A << 9
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_CTRL_PFLT_TST_SET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_CTRL_PFLT_TST_SET
operation	write
task	0x0A
address	3
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_CTRL_PFLT_TST_SET
DOL	KLYS:$(AREA):$(LOCATION):MOD_CTRL_PFLT_TST_SET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_KFTDLY_TST_SET: Klys Filament TDLY (Bit 10)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_KFTDLY_TST_SET
operation	record
DESC	Klys Filament TDLY
FLNK	KLYS:$(AREA):$(LOCATION):MOD_KFTDLY_TST_SET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_KFTDLY_TST_SET_MASK
DESC	Klys Filament TDLY
INPA	KLYS:$(AREA):$(LOCATION):MOD_KFTDLY_TST_SET
CALC	A << 10
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_KFTDLY_TST_SET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_KFTDLY_TST_SET
operation	write
task	0x0A
address	3
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_KFTDLY_TST_SET
DOL	KLYS:$(AREA):$(LOCATION):MOD_KFTDLY_TST_SET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_VVS_TST_SET: VVS Power On (Bit 11)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_VVS_TST_SET
operation	record
DESC	VVS Power On
FLNK	KLYS:$(AREA):$(LOCATION):MOD_VVS_TST_SET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_VVS_TST_SET_MASK
DESC	VVS Power On
INPA	KLYS:$(AREA):$(LOCATION):MOD_VVS_TST_SET
CALC	A << 11
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_VVS_TST_SET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_VVS_TST_SET
operation	write
task	0x0A
address	3
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_VVS_TST_SET
DOL	KLYS:$(AREA):$(LOCATION):MOD_VVS_TST_SET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD Test Set Register (END)
#-------------------------------------------------------
# MOD Test Reset Register (BEGIN)
#-------------------------------------------------------
# MOD_HVON_TST_RESET: Test High Volt On (Bit 0)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_HVON_TST_RESET
operation	record
DESC	Test High Volt On
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVON_TST_RESET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_HVON_TST_RESET_MASK
DESC	Test High Volt On
INPA	KLYS:$(AREA):$(LOCATION):MOD_HVON_TST_RESET
CALC	A
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_HVON_TST_RESET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_HVON_TST_RESET
operation	write
task	0x0A
address	4
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_HVON_TST_RESET
DOL	KLYS:$(AREA):$(LOCATION):MOD_HVON_TST_RESET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_FLK_TST_RESET: Test Fault set (Bit 1)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_FLK_TST_RESET
operation	record
DESC	Test Fault
FLNK	KLYS:$(AREA):$(LOCATION):MOD_FLK_TST_RESET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_FLK_TST_RESET_MASK
DESC	Test Fault
INPA	KLYS:$(AREA):$(LOCATION):MOD_FLK_TST_RESET
CALC	A << 1
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_FLK_TST_RESET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_FLK_TST_RESET
operation	write
task	0x0A
address	4
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_FLK_TST_RESET
DOL	KLYS:$(AREA):$(LOCATION):MOD_FLK_TST_RESET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_EILK_TST_RESET: External Interlock Test Set (Bit 2)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_EILK_TST_RESET
operation	record
DESC	External Interlock Test
FLNK	KLYS:$(AREA):$(LOCATION):MOD_EILK_TST_RESET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_EILK_TST_RESET_MASK
DESC	External Interlock Test
INPA	KLYS:$(AREA):$(LOCATION):MOD_EILK_TST_RESET
CALC	A << 2
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_EILK_TST_RESET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_EILK_TST_RESET
operation	write
task	0x0A
address	4
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_EILK_TST_RESET
DOL	KLYS:$(AREA):$(LOCATION):MOD_EILK_TST_RESET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_HVOC_TST_RESET: High Voltage Over Current (Bit 3)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_HVOC_TST_RESET
operation	record
DESC	High Volt Over Cur
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVOC_TST_RESET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_HVOC_TST_RESET_MASK
DESC	High Volt Over Cur
INPA	KLYS:$(AREA):$(LOCATION):MOD_HVOC_TST_RESET
CALC	A << 3
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_HVOC_TST_RESET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_HVOC_TST_RESET
operation	write
task	0x0A
address	4
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_HVOC_TST_RESET
DOL	KLYS:$(AREA):$(LOCATION):MOD_HVOC_TST_RESET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_EOLC_TST_RESET: End of Line Clipper (Bit 4)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_EOLC_TST_RESET
operation	record
DESC	End of Line Clipper
FLNK	KLYS:$(AREA):$(LOCATION):MOD_EOLC_TST_RESET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_EOLC_TST_RESET_MASK
DESC	End of Line Clipper
INPA	KLYS:$(AREA):$(LOCATION):MOD_EOLC_TST_RESET
CALC	A << 4
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_EOLC_TST_RESET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_EOLC_TST_RESET
operation	write
task	0x0A
address	4
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_EOLC_TST_RESET
DOL	KLYS:$(AREA):$(LOCATION):MOD_EOLC_TST_RESET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_TTOC_TST_RESET: Thyratron Over Current (Bit 5)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_TTOC_TST_RESET
operation	record
DESC	Thyratron Over Current
FLNK	KLYS:$(AREA):$(LOCATION):MOD_TTOC_TST_RESET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_TTOC_TST_RESET_MASK
DESC	Thyratron Over Current
INPA	KLYS:$(AREA):$(LOCATION):MOD_TTOC_TST_RESET
CALC	A << 5
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_TTOC_TST_RESET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_TTOC_TST_RESET
operation	write
task	0x0A
address	4
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_TTOC_TST_RESET
DOL	KLYS:$(AREA):$(LOCATION):MOD_TTOC_TST_RESET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_HVRDY_TST_RESET: High Voltage Ready (Bit 6)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_HVRDY_TST_RESET
operation	record
DESC	High Voltage Ready
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVRDY_TST_RESET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_HVRDY_TST_RESET_MASK
DESC	High Voltage Ready
INPA	KLYS:$(AREA):$(LOCATION):MOD_HVRDY_TST_RESET
CALC	A << 6
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_HVRDY_TST_RESET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_HVRDY_TST_RESET
operation	write
task	0x0A
address	4
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_HVRDY_TST_RESET
DOL	KLYS:$(AREA):$(LOCATION):MOD_HVRDY_TST_RESET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_AVAIL_TST_RESET: Modulator Available (Bit 7)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_AVAIL_TST_RESET
operation	record
DESC	Modulator Available
FLNK	KLYS:$(AREA):$(LOCATION):MOD_AVAIL_TST_RESET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_AVAIL_TST_RESET_MASK
DESC	Modulator Available
INPA	KLYS:$(AREA):$(LOCATION):MOD_AVAIL_TST_RESET
CALC	A << 7
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_AVAIL_TST_RESET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_AVAIL_TST_RESET
operation	write
task	0x0A
address	4
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_AVAIL_TST_RESET
DOL	KLYS:$(AREA):$(LOCATION):MOD_AVAIL_TST_RESET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_ILKC_TST_RESET: Interlock Complete (Bit 8)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_ILKC_TST_RESET
operation	record
DESC	Interlock Complete
FLNK	KLYS:$(AREA):$(LOCATION):MOD_ILKC_TST_RESET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_ILKC_TST_RESET_MASK
DESC	Interlock Complete
INPA	KLYS:$(AREA):$(LOCATION):MOD_ILKC_TST_RESET
CALC	A << 8
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_ILKC_TST_RESET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_ILKC_TST_RESET
operation	write
task	0x0A
address	4
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_ILKC_TST_RESET
DOL	KLYS:$(AREA):$(LOCATION):MOD_ILKC_TST_RESET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_CTRL_PFLT_TST_RESET: Control Power Fault (Bit 9)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_CTRL_PFLT_TST_RESET
operation	record
DESC	Control Power Fault
FLNK	KLYS:$(AREA):$(LOCATION):MOD_CTRL_PFLT_TST_RESET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_CTRL_PFLT_TST_RESET_MASK
DESC	Control Power Fault
INPA	KLYS:$(AREA):$(LOCATION):MOD_CTRL_PFLT_TST_RESET
CALC	A << 9
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_CTRL_PFLT_TST_RESET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_CTRL_PFLT_TST_RESET
operation	write
task	0x0A
address	4
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_CTRL_PFLT_TST_RESET
DOL	KLYS:$(AREA):$(LOCATION):MOD_CTRL_PFLT_TST_RESET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_KFTDLY_TST_RESET: Klys Filament TDLY (Bit 10)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_KFTDLY_TST_RESET
operation	record
DESC	Klys Filament TDLY
FLNK	KLYS:$(AREA):$(LOCATION):MOD_KFTDLY_TST_RESET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_KFTDLY_TST_RESET_MASK
DESC	Klys Filament TDLY
INPA	KLYS:$(AREA):$(LOCATION):MOD_KFTDLY_TST_RESET
CALC	A << 10
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_KFTDLY_TST_RESET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_KFTDLY_TST_RESET
operation	write
task	0x0A
address	4
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_KFTDLY_TST_RESET
DOL	KLYS:$(AREA):$(LOCATION):MOD_KFTDLY_TST_RESET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD_VVS_TST_RESET: VVS Power On (Bit 11)
#-------------------------------------------------------
record	bo
name	KLYS:$(AREA):$(LOCATION):MOD_VVS_TST_RESET
operation	record
DESC	VVS Power On
FLNK	KLYS:$(AREA):$(LOCATION):MOD_VVS_TST_RESET_MASK
PRIO	LOW
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_VVS_TST_RESET_MASK
DESC	VVS Power On
INPA	KLYS:$(AREA):$(LOCATION):MOD_VVS_TST_RESET
CALC	A << 11
FLNK	KLYS:$(AREA):$(LOCATION):CTRL_MOD_VVS_TST_RESET
PRIO	LOW
#-------------------------------------------------------
record	ao
name	KLYS:$(AREA):$(LOCATION):CTRL_MOD_VVS_TST_RESET
operation	write
task	0x0A
address	4
size	1
DESC	MOD Test (write)
DTYP	asynInt32
OUT	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))CTRL_MOD_VVS_TST_RESET
DOL	KLYS:$(AREA):$(LOCATION):MOD_VVS_TST_RESET_MASK
OMSL	closed_loop
PRIO	LOW
#-------------------------------------------------------
# MOD Test Reset Register (END)
#=======================================================
#
# MOD INTERFACE BLOCK (READ)
#
#=======================================================
# MOD Status Register (BEGIN)
#-------------------------------------------------------
record	ai
name	KLYS:$(AREA):$(LOCATION):MOD_STATUS
operation	read
task	0x4A
address	0
size	1
DESC	MKSU Status
DTYP	asynInt32
INP	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))MOD_STATUS
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVON_MASK
SCAN	$(SCAN)
PRIO	LOW
#-------------------------------------------------------
# MOD_HVON_STAT: High Voltage On (Bit 0)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_HVON_STAT_MASK
DESC	High Voltage On
INPA	KLYS:$(AREA):$(LOCATION):MOD_STATUS
CALC	A & (1 << 0)
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVON_STAT
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_HVON_STAT
operation	record
DESC	High Voltage On
INP	KLYS:$(AREA):$(LOCATION):MOD_HVON_STAT_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_FLK_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_DFLK: Fault Lock Out (FLK) (Bit 1)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_FLK_MASK
DESC	Fault Lock Out (FLK)
INPA	KLYS:$(AREA):$(LOCATION):MOD_STATUS
CALC	(A & (1 << 1)) >> 1
FLNK	KLYS:$(AREA):$(LOCATION):MOD_FLK
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_FLK
operation	record
DESC	Fault Lock Out (FLK)
INP	KLYS:$(AREA):$(LOCATION):MOD_FLK_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_EILK_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_EILK: External Interlock (Bit 2)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_EILK_MASK
DESC	External Interlock
INPA	KLYS:$(AREA):$(LOCATION):MOD_STATUS
CALC	(A & (1 << 2)) >> 2
FLNK	KLYS:$(AREA):$(LOCATION):MOD_EILK
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_EILK
operation	record
DESC	External Interlock
INP	KLYS:$(AREA):$(LOCATION):MOD_EILK_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVOC_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_HVOC: High Voltage Over Curr (Bit 3)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_HVOC_MASK
DESC	High Voltage Over Curr
INPA	KLYS:$(AREA):$(LOCATION):MOD_STATUS
CALC	(A & (1 << 3)) >> 3
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVOC
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_HVOC
operation	record
DESC	High Voltage Over Curr
INP	KLYS:$(AREA):$(LOCATION):MOD_HVOC_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_EOLC_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_EOLC: End of Line Clipper (EOLC) (Bit 4)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_EOLC_MASK
DESC	End of Line Clipper (EOLC)
INPA	KLYS:$(AREA):$(LOCATION):MOD_STATUS
CALC	(A & (1 << 4)) >> 4
FLNK	KLYS:$(AREA):$(LOCATION):MOD_EOLC
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_EOLC
operation	record
DESC	End of Line Clipper (EOLC)
INP	KLYS:$(AREA):$(LOCATION):MOD_EOLC_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_TTOC_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_TTOC: Thyratron Over Curr (Bit 5)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_TTOC_MASK
DESC	Thyratron Over Curr
INPA	KLYS:$(AREA):$(LOCATION):MOD_STATUS
CALC	(A & (1 << 5)) >> 5
FLNK	KLYS:$(AREA):$(LOCATION):MOD_TTOC
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_TTOC
operation	record
DESC	Thyratron Over Curr
INP	KLYS:$(AREA):$(LOCATION):MOD_TTOC_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVRDY_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_HVRDY: High Voltage Ready (Bit 6)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_HVRDY_MASK
DESC	High Voltage Ready
INPA	KLYS:$(AREA):$(LOCATION):MOD_STATUS
CALC	(A & (1 << 6)) >> 6
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVRDY
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_HVRDY
operation	record
DESC	High Voltage Ready
INP	KLYS:$(AREA):$(LOCATION):MOD_HVRDY_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_AVAIL_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_AVAIL: Modulator Available (Bit 7)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_AVAIL_MASK
DESC	Modulator Available
INPA	KLYS:$(AREA):$(LOCATION):MOD_STATUS
CALC	(A & (1 << 7)) >> 7
FLNK	KLYS:$(AREA):$(LOCATION):MOD_AVAIL
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_AVAIL
operation	record
DESC	Modulator Available
INP	KLYS:$(AREA):$(LOCATION):MOD_AVAIL_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_ILKC_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_ILKC: Interlock Complete (Bit 8)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_ILKC_MASK
DESC	Interlock Complete
INPA	KLYS:$(AREA):$(LOCATION):MOD_STATUS
CALC	(A & (1 << 8)) >> 8
FLNK	KLYS:$(AREA):$(LOCATION):MOD_ILKC
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_ILKC
operation	record
DESC	Interlock Complete
INP	KLYS:$(AREA):$(LOCATION):MOD_ILKC_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_CTRL_PFLT_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_CTRL_PFLT: Control Power Fault (Bit 9)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_CTRL_PFLT_MASK
DESC	Control Power Fault
INPA	KLYS:$(AREA):$(LOCATION):MOD_STATUS
CALC	(A & (1 << 9)) >> 9
FLNK	KLYS:$(AREA):$(LOCATION):MOD_CTRL_PFLT
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_CTRL_PFLT
operation	record
DESC	Control Power Fault
INP	KLYS:$(AREA):$(LOCATION):MOD_CTRL_PFLT_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_KFTDLY_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_KFTDLY: Klys Filament TDLY (Bit 10)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_KFTDLY_MASK
DESC	Klys Filament TDLY
INPA	KLYS:$(AREA):$(LOCATION):MOD_STATUS
CALC	(A & (1 << 10)) >> 10
FLNK	KLYS:$(AREA):$(LOCATION):MOD_KFTDLY
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_KFTDLY
operation	record
DESC	Klys Filament TDLY
INP	KLYS:$(AREA):$(LOCATION):MOD_KFTDLY_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_VVS_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_VVS: VVS Power On (Bit 11)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_VVS_MASK
DESC	VVS Power On
INPA	KLYS:$(AREA):$(LOCATION):MOD_STATUS
CALC	(A & (1 << 11)) >> 11
FLNK	KLYS:$(AREA):$(LOCATION):MOD_VVS
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_VVS
operation	record
DESC	VVS Power On
INP	KLYS:$(AREA):$(LOCATION):MOD_VVS_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_CTRLPWR_ON_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_CTRLPWR_ON: Control Power On CMD (Bit 12)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_CTRLPWR_ON_MASK
DESC	Control Power On CMD
INPA	KLYS:$(AREA):$(LOCATION):MOD_STATUS
CALC	(A & (1 << 12)) >> 12
FLNK	KLYS:$(AREA):$(LOCATION):MOD_CTRLPWR_ON
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_CTRLPWR_ON
operation	record
DESC	Control Power On CMD
INP	KLYS:$(AREA):$(LOCATION):MOD_CTRLPWR_ON_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HV_OFF_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_HV_OFF: High Volt Off CMD (Bit 13)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_HV_OFF_MASK
DESC	High Volt Off CMD
INPA	KLYS:$(AREA):$(LOCATION):MOD_STATUS
CALC	(A & (1 << 13)) >> 13
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HV_OFF
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_HV_OFF
operation	record
DESC	High Volt Off CMD
INP	KLYS:$(AREA):$(LOCATION):MOD_HV_OFF_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HV_ON_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_HV_ON: High Volt On CMD (Bit 14)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_HV_ON_MASK
DESC	High Volt On CMD
INPA	KLYS:$(AREA):$(LOCATION):MOD_STATUS
CALC	(A & (1 << 14)) >> 14
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HV_ON
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_HV_ON
operation	record
DESC	High Volt On CMD
INP	KLYS:$(AREA):$(LOCATION):MOD_HV_ON_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_FLT_RESET_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_FLT_RESET: Fault Reset (Bit 15)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_FLT_RESET_MASK
DESC	Fault Reset
INPA	KLYS:$(AREA):$(LOCATION):MOD_STATUS
CALC	(A & (1 << 15)) >> 15
FLNK	KLYS:$(AREA):$(LOCATION):MOD_FLT_RESET
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_FLT_RESET
operation	record
DESC	Fault Reset
INP	KLYS:$(AREA):$(LOCATION):MOD_FLT_RESET_MASK
ZNAM	No
ONAM	Yes
PRIO	LOW
#-------------------------------------------------------
# MOD Status Register (END)
#=======================================================
# MOD Control Register (BEGIN)
#-------------------------------------------------------
record	ai
name	KLYS:$(AREA):$(LOCATION):MOD_CTRL
operation	read
task	0x4A
address	1
size	1
DESC	MOD Control Status
DTYP	asynInt32
INP	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))MOD_CTRL
FLNK	KLYS:$(AREA):$(LOCATION):MOD_CPWR_MASK
SCAN	$(SCAN)
PRIO	LOW
#-------------------------------------------------------
# MOD_CPWR: Control Power On (Bit 0)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_CPWR_MASK
DESC	Control Power On
INPA	KLYS:$(AREA):$(LOCATION):MOD_CTRL
CALC	A & 1
FLNK	KLYS:$(AREA):$(LOCATION):MOD_CPWR
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_CPWR
operation	record
DESC	Control Power On
INP	KLYS:$(AREA):$(LOCATION):MOD_CPWR_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVON_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_HVON: High Volt On (Bit 1)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_HVON_MASK
DESC	High Volt On
INPA	KLYS:$(AREA):$(LOCATION):MOD_CTRL
CALC	(A & (1 << 1)) >> 1
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVON
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_HVON
operation	record
DESC	High Volt On
INP	KLYS:$(AREA):$(LOCATION):MOD_HVON_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVOFF_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_HVOFF: High Volt Off (Bit 2)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_HVOFF_MASK
DESC	High Volt Off
INPA	KLYS:$(AREA):$(LOCATION):MOD_CTRL
CALC	(A & (1 << 2)) >> 2
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVOFF
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_HVOFF
operation	record
DESC	High Volt Off
INP	KLYS:$(AREA):$(LOCATION):MOD_HVOFF_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_FLTRST_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_FLTRST: Fault Reset CMD (Bit 3)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_FLTRST_MASK
DESC	Fault Reset CMD
INPA	KLYS:$(AREA):$(LOCATION):MOD_CTRL
CALC	(A & (1 << 2)) >> 2
FLNK	KLYS:$(AREA):$(LOCATION):MOD_FLTRST
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_FLTRST
operation	record
DESC	Fault Reset CMD
INP	KLYS:$(AREA):$(LOCATION):MOD_FLTRST_MASK
ZNAM	No
ONAM	Yes
PRIO	LOW
#-------------------------------------------------------
# MOD Control Register (END)
#-------------------------------------------------------
# MOD Test Register (BEGIN)
#-------------------------------------------------------
record	ai
name	KLYS:$(AREA):$(LOCATION):MOD_TEST
operation	read
task	0x4A
address	2
size	1
DESC	MOD Test Status
DTYP	asynInt32
INP	@asyn($(PORT) $(CHANNEL) $(TIMEOUT))MOD_TEST
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVON_TST_MASK
SCAN	$(SCAN)
PRIO	LOW
#-------------------------------------------------------
# MOD_HVON_TST: High Voltage On (Bit 0)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_HVON_TST_MASK
DESC	High Voltage On
INPA	KLYS:$(AREA):$(LOCATION):MOD_TEST
CALC	A & (1 << 0)
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVON_TST
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_HVON_TST
operation	record
DESC	High Voltage On
INP	KLYS:$(AREA):$(LOCATION):MOD_HVON_TST_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_FLK_TST_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_DFLK_TST: Fault Lock Out (FLK) (Bit 1)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_FLK_TST_MASK
DESC	Fault Lock Out (FLK)
INPA	KLYS:$(AREA):$(LOCATION):MOD_TEST
CALC	(A & (1 << 1)) >> 1
FLNK	KLYS:$(AREA):$(LOCATION):MOD_FLK_TST
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_FLK_TST
operation	record
DESC	Fault Lock Out (FLK)
INP	KLYS:$(AREA):$(LOCATION):MOD_FLK_TST_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_EILK_TST_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_EILK_TST: External Interlock (Bit 2)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_EILK_TST_MASK
DESC	External Interlock
INPA	KLYS:$(AREA):$(LOCATION):MOD_TEST
CALC	(A & (1 << 2)) >> 2
FLNK	KLYS:$(AREA):$(LOCATION):MOD_EILK_TST
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_EILK_TST
operation	record
DESC	External Interlock
INP	KLYS:$(AREA):$(LOCATION):MOD_EILK_TST_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVOC_TST_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_HVOC_TST: High Voltage Over Curr (Bit 3)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_HVOC_TST_MASK
DESC	High Voltage Over Curr
INPA	KLYS:$(AREA):$(LOCATION):MOD_TEST
CALC	(A & (1 << 3)) >> 3
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVOC_TST
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_HVOC_TST
operation	record
DESC	High Voltage Over Curr
INP	KLYS:$(AREA):$(LOCATION):MOD_HVOC_TST_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_EOLC_TST_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_EOLC_TST: End of Line Clipper (EOLC) (Bit 4)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_EOLC_TST_MASK
DESC	End of Line Clipper (EOLC)
INPA	KLYS:$(AREA):$(LOCATION):MOD_TEST
CALC	(A & (1 << 4)) >> 4
FLNK	KLYS:$(AREA):$(LOCATION):MOD_EOLC_TST
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_EOLC_TST
operation	record
DESC	End of Line Clipper (EOLC)
INP	KLYS:$(AREA):$(LOCATION):MOD_EOLC_TST_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_TTOC_TST_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_TTOC_TST: Thyratron Over Curr (Bit 5)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_TTOC_TST_MASK
DESC	Thyratron Over Curr
INPA	KLYS:$(AREA):$(LOCATION):MOD_TEST
CALC	(A & (1 << 5)) >> 5
FLNK	KLYS:$(AREA):$(LOCATION):MOD_TTOC_TST
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_TTOC_TST
operation	record
DESC	Thyratron Over Curr
INP	KLYS:$(AREA):$(LOCATION):MOD_TTOC_TST_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVRDY_TST_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_HVRDY_TST: High Voltage Ready (Bit 6)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_HVRDY_TST_MASK
DESC	High Voltage Ready
INPA	KLYS:$(AREA):$(LOCATION):MOD_TEST
CALC	(A & (1 << 6)) >> 6
FLNK	KLYS:$(AREA):$(LOCATION):MOD_HVRDY_TST
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_HVRDY_TST
operation	record
DESC	High Voltage Ready
INP	KLYS:$(AREA):$(LOCATION):MOD_HVRDY_TST_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_AVAIL_TST_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_AVAIL_TST: Modulator Available (Bit 7)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_AVAIL_TST_MASK
DESC	Modulator Available
INPA	KLYS:$(AREA):$(LOCATION):MOD_TEST
CALC	(A & (1 << 7)) >> 7
FLNK	KLYS:$(AREA):$(LOCATION):MOD_AVAIL_TST
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_AVAIL_TST
operation	record
DESC	Modulator Available
INP	KLYS:$(AREA):$(LOCATION):MOD_AVAIL_TST_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_ILKC_TST_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_ILKC_TST: Interlock Complete (Bit 8)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_ILKC_TST_MASK
DESC	Interlock Complete
INPA	KLYS:$(AREA):$(LOCATION):MOD_TEST
CALC	(A & (1 << 8)) >> 8
FLNK	KLYS:$(AREA):$(LOCATION):MOD_ILKC_TST
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_ILKC_TST
operation	record
DESC	Interlock Complete
INP	KLYS:$(AREA):$(LOCATION):MOD_ILKC_TST_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_CTRL_PFLT_TST_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_CTRL_PFLT_TST: Control Power Fault (Bit 9)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_CTRL_PFLT_TST_MASK
DESC	Control Power Fault
INPA	KLYS:$(AREA):$(LOCATION):MOD_TEST
CALC	(A & (1 << 9)) >> 9
FLNK	KLYS:$(AREA):$(LOCATION):MOD_CTRL_PFLT_TST
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_CTRL_PFLT_TST
operation	record
DESC	Control Power Faul
INP	KLYS:$(AREA):$(LOCATION):MOD_CTRL_PFLT_TST_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_KFTDLY_TST_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_KFTDLY_TST: Klys Filament TDLY (Bit 10)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_KFTDLY_TST_MASK
DESC	Klys Filament TDLY
INPA	KLYS:$(AREA):$(LOCATION):MOD_TEST
CALC	(A & (1 << 10)) >> 10
FLNK	KLYS:$(AREA):$(LOCATION):MOD_KFTDLY_TST
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_KFTDLY_TST
operation	record
DESC	Klys Filament TDLY
INP	KLYS:$(AREA):$(LOCATION):MOD_KFTDLY_TST_MASK
ZNAM	No
ONAM	Yes
FLNK	KLYS:$(AREA):$(LOCATION):MOD_VVS_TST_MASK
PRIO	LOW
#-------------------------------------------------------
# MOD_VVS_TST: VVS Power On (Bit 11)
#-------------------------------------------------------
record	calc
operation	record
name	KLYS:$(AREA):$(LOCATION):MOD_VVS_TST_MASK
DESC	VVS Power On
INPA	KLYS:$(AREA):$(LOCATION):MOD_TEST
CALC	(A & (1 << 11)) >> 11
FLNK	KLYS:$(AREA):$(LOCATION):MOD_VVS_TST
PRIO	LOW
#-------------------------------------------------------
record	bi
name	KLYS:$(AREA):$(LOCATION):MOD_VVS_TST
operation	record
DESC	VVS Power On
INP	KLYS:$(AREA):$(LOCATION):MOD_VVS_TST_MASK
ZNAM	No
ONAM	Yes
PRIO	LOW
#-------------------------------------------------------
# MOD Test Register (END)
#-------------------------------------------------------
